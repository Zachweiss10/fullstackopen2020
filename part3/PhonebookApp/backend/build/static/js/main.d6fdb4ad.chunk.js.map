{"version":3,"sources":["components/Persons.js","components/Form.js","components/Filter.js","components/Header.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Persons","personsToShow","deletePerson","console","log","map","person","name","number","onClick","Form","addName","newName","handleChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","filter","filterChange","Header","title","baseUrl","axios","get","newObject","post","id","delete","Notification","addedPerson","notification","undefined","className","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setAddedPerson","useEffect","personService","then","response","data","event","target","preventDefault","some","alert","concat","setTimeout","addPerson","window","confirm","array","forEach","personKeep","push","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d6fdb4ad.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Persons({ personsToShow, deletePerson }) {\r\n    console.log(personsToShow)\r\n    return (\r\n        <div>\r\n            {personsToShow.map(person => \r\n                {return(\r\n                <li key= {person.name}>{person.name} {person.number}\r\n                <button onClick={ () => deletePerson(person)}> Delete</button></li>\r\n                )}\r\n            )}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nfunction Form({addName, newName, handleChange, newNumber, handleNumberChange}) {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>name: <input value= {newName} onChange={handleChange}/></div>\r\n            <div>number: <input value = {newNumber} onChange={handleNumberChange}/></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React from 'react'\r\n\r\nfunction Filter({ filter, filterChange}) {\r\n    return (\r\n        <div>\r\n            Filter Shown with: <input value= {filter} onChange={filterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nfunction Header({title}) {\r\n    return (\r\n        <h2>\r\n            {title}\r\n        </h2>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteP = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default{\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    deleteP: deleteP\r\n}","import React from 'react'\r\n\r\nfunction Notification({addedPerson}) {\r\n    console.log(addedPerson);\r\n    const notification = `${addedPerson} was added!`\r\n    if(addedPerson !== undefined){\r\n    return (\r\n        <div className=\"added\">\r\n            {notification}\r\n        </div>\r\n    )\r\n    }\r\n    return(<> </>)\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport Header from './components/Header'\nimport personService from './services/personService'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [filter, filterChange] = useState('')\n  const [addedPerson, setAddedPerson] = useState('');\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    }, [])\n\n\n  const personsToShow = showAll ?\n    persons : persons.filter(person => person.name === filter)\n\n  const addPerson = (person) => {\n    if(persons.some( ({name}) => name === person.name)){\n      //console.log('EXISTS!')\n      alert(`${person.name} already exists`)\n    }\n    else if(person.name === '' || person.number === ''){\n      alert('Please enter a valid person')\n    }\n    else{\n      //console.log(\"NOT EXISTS!~\")\n      //setPersons(persons.concat(person))  \n      setNewName('')\n      setNewNumber('')\n      personService\n        .create(person)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          console.log(persons);\n        })\n        setAddedPerson(person);\n        setTimeout(()=> {\n          setAddedPerson('')\n        }, 3000)      \n\n    }\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    //console.log(newName)\n    const person = {\n      name : newName,\n      number : newNumber\n    }\n    addPerson(person)\n  }\n\n  const handleChange = (event) =>{\n    //console.log({name: event.target.value})\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n\n  const deletePerson = (person) => {\n    const val = window.confirm(`Delete ${person.name}`);\n    if(val){\n    personService\n      .deleteP(person.id)\n      .then(response => {\n        console.log(response.data)\n      })\n      const array = []\n      persons.forEach(personKeep => {\n        if (person.name !== personKeep.name){\n          array.push(personKeep)\n        }\n      });\n      setPersons(array)\n      \n    }\n    else{\n      //alert(`${person.name} was not deleted`)\n    }\n  }\n\n  const handleFilterChange = (event) =>{\n    if(event.target.value === ''){\n      setShowAll(true)\n      filterChange(event.target.value)\n    }\n    else{\n      setShowAll(false)\n      //console.log(event.target.value)\n      filterChange(event.target.value)\n    }\n    \n  }\n\n  return (\n    <>\n      <Header title = 'Phonebook'/>\n      <Notification addedPerson = {addedPerson.name} />\n      <Filter filter={filter} filterChange = {handleFilterChange}/>\n      <Form addName = {addName} newName = {newName} newNumber = {newNumber} handleNumberChange={handleNumberChange} handleChange={handleChange}/>\n      <Header title = 'Numbers' />\n      <Persons personsToShow = {personsToShow} deletePerson={deletePerson}/>\n    </>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}